function b(){c=!1;d=.5;e.style.transform="scale("+d+")";h.y=-h.b-50}
function k(){for(var a=l.length;a--;)l[a].y<-l[a].b-50&&(document.getElementById("stage").removeChild(document.getElementById(l[a].id)),l.splice(a,1));for(a=m.length;a--;)m[a].y<-m[a].b-50&&(m[a].y=Math.round(Math.random()*n.clientHeight/2)+n.clientHeight,m[a].x=Math.round(Math.random()*n.clientWidth));for(a=l.length;a--;)l[a].y-=l[a].c,l[a].a.style.left=l[a].x+"px",l[a].a.style.top=l[a].y+"px";for(a=m.length;a--;)m[a].y-=m[a].c,m[a].a.style.left=m[a].x+"px",m[a].a.style.top=m[a].y+"px";if(!c){p+=
q;t+=p;t>n.clientHeight-75&&(t=n.clientHeight-75,p=0,u=!0,c=!1);for(var r in l){var f=l[r].a,a=e.getBoundingClientRect(),f=f.getBoundingClientRect();if(!(a.top>f.bottom||a.right<f.left+25||a.bottom<f.top||a.left>f.right-25)){u=c=!0;h=l[r];break}}}for(var w in l)l[w].a.style.top=l[w].y+"px";c&&(v=h.x+10,t=h.y+5,d+=.001,e.style.transform="scale("+d+")");e.style.left=v+"px";e.style.top=t+"px";.75<d&&b();requestAnimationFrame(k)}
function x(a){null===A&&(A=setInterval(function(){0===a?v-=5:v+=5},33))}
function B(a,r,f,w,y,z){var g=document.createElement("div");a="bubble_"+a;var G=Math.round(1*Math.random())+2;y=y||Math.round(Math.random()*n.clientWidth)-r/2;z=z||Math.round(100*Math.random())+n.clientHeight;return g.setAttribute("id",a),g.className="bubble inner "+w,g.style.left=y+"px",g.style.top=z+"px",g.style.width=r+"px",g.style.height=f+"px",g.style.position="absolute",document.getElementById("stage").appendChild(g),{a:g,id:a,c:G,x:y,y:z,f:r,b:f}}
var e=document.getElementById("jumper"),n=document.getElementById("stage"),v=n.clientWidth/2-84,t=n.clientHeight-50,p=0,q=.5,u=!0,A=null,c=!1,h=null,d=.5,l=[],m=[],C=0;l.push(new B(C,100,100,"collidable",v-15,t-75));h=l[0];c=!0;e.style.left=v+"px";e.style.top=t+"px";setInterval(function(){l.push(new B(C,100,100,"collidable"));15>m.length&&m.push(new B("",30,30,""));C++},1E3);
for(var D=-18,E=0;60>E;E++){var F=document.createElement("div");F.className="spikey";F.style.left=D+"px";F.style.zIndex="100";D+=25;document.getElementById("spikey-top").appendChild(F)}D=-18;for(E=0;60>E;E++)F=document.createElement("div"),F.className="spikey bottom",F.style.left=D+"px",F.style.top=n.clientHeight-34+"px",F.style.zIndex="100",D+=25,document.getElementById("spikey-bottom").appendChild(F);
window.onkeydown=function(a){switch(a.keyCode?a.keyCode:a.which){case 38:u&&(p=-16,u=!1,b());break;case 37:x(0);break;case 39:x(1)}};window.onkeyup=function(a){a=a.keyCode?a.keyCode:a.which;(37===a||39===a)&&(clearInterval(A),A=null)};k();